# Release Notes: v0.4.0

**Release Date**: October 7, 2025

## Overview

Version 0.4.0 introduces a major improvement to the component creation workflow with a new wizard interface and intelligent fuzzy search functionality. This release makes adding components faster, more intuitive, and less error-prone.

## üéØ Highlights

### Component Creation Wizard

The new wizard-based interface simplifies component creation with:

- **Two-step workflow**: Basic Information ‚Üí Resources (optional)
- **Intelligent autocomplete** for manufacturers and footprints
- **Dual creation modes**: Linked parts (with provider integration) or local-only parts
- **Provider support**: LCSC, Digi-Key, and Mouser integration

### Fuzzy Search Autocomplete

Smart search that understands what you're looking for:

- **Real-time suggestions** as you type
- **Typo tolerance** finds matches even with spelling errors
- **Score-based ranking** puts best matches first
- **Inline creation** of new manufacturers and footprints
- **Case-insensitive** matching

## üÜï New Features

### Frontend

- **Component Creation Wizard** (`frontend/src/components/wizard/`)
  - Two-step wizard interface with progress indicator
  - Smart form validation with real-time feedback
  - Autocomplete for component types, manufacturers, and footprints
  - Optional provider integration step

- **Fuzzy Autocomplete Component** (`FuzzyAutocomplete.vue`)
  - Reusable autocomplete with fuzzy matching
  - Configurable appearance (icons, captions, labels)
  - Keyboard navigation support
  - Create-new-entry functionality

### Backend

- **Wizard API Endpoints** (`backend/src/api/wizard.py`)
  - `POST /api/v1/wizard/components` - Create components via wizard
  - `GET /api/v1/wizard/manufacturers/search` - Fuzzy search manufacturers
  - `GET /api/v1/wizard/footprints/search` - Fuzzy search footprints
  - Admin-only access control

- **Wizard Service** (`backend/src/services/wizard_service.py`)
  - Fuzzy matching using RapidFuzz library
  - Score-based result ranking
  - Configurable match thresholds
  - Support for both linked and local parts

### Database

- **Full-Text Search Optimization**
  - Improved FTS5 index management
  - Better transaction handling in tests
  - Enhanced search performance

## üîÑ Changes

### Breaking Changes

None - this release is backward compatible.

### Improvements

- Component creation workflow simplified from single complex form to guided wizard
- Manufacturer and footprint selection now uses fuzzy search instead of exact match dropdown
- Provider integration made optional rather than required
- Better error messages and validation feedback

## üêõ Bug Fixes

- Fixed FTS search index population in test environments
- Resolved transaction isolation issues with SQLite FTS triggers
- Corrected import sorting and linting in test configuration
- Improved test stability in CI environments

## üìä Technical Details

### Dependencies

- **Frontend**: No new dependencies
- **Backend**: Uses existing `rapidfuzz` library for fuzzy matching

### API Changes

#### New Endpoints

```
POST   /api/v1/wizard/components
GET    /api/v1/wizard/manufacturers/search
GET    /api/v1/wizard/footprints/search
```

All wizard endpoints require admin authentication.

#### Request/Response Examples

**Create Component (Linked Part)**:
```json
POST /api/v1/wizard/components
{
  "name": "10kŒ© Resistor",
  "component_type": "resistor",
  "manufacturer_name": "Yageo",
  "footprint": "0603",
  "category_id": "uuid",
  "storage_location_id": "uuid",
  "provider": "LCSC",
  "provider_sku": "C25804"
}
```

**Search Manufacturers**:
```json
GET /api/v1/wizard/manufacturers/search?q=yag&limit=10

Response:
[
  {"name": "Yageo", "score": 95},
  {"name": "Yamaichi", "score": 75}
]
```

### Database Schema

No database schema changes in this release.

## üß™ Testing

### Test Coverage

- **Backend Tests**: 1072 passing
  - Integration tests for wizard endpoints
  - Unit tests for fuzzy search service
  - FTS index management tests

- **Frontend Tests**: All passing
  - Component wizard flow tests
  - Fuzzy autocomplete component tests

### Known Issues

None at release time.

## üìà Performance

- Fuzzy search is highly optimized using RapidFuzz
- Typical search response time: <50ms for datasets with 10,000+ components
- FTS5 indexes provide sub-100ms full-text search

## üîê Security

- All wizard endpoints require admin authentication
- No new security vulnerabilities introduced
- Maintains existing RBAC (Role-Based Access Control)

## üìö Documentation

### New Documentation

- [Component Creation Guide](../user/component-creation.md) - Complete wizard usage guide
- Updated [README.md](../../README.md) with v0.4.0 features
- Enhanced [CHANGELOG.md](../../CHANGELOG.md)

### Updated Documentation

- [User Guide Index](../user/index.md) - Added component creation section
- Feature overview updated with wizard information

## üéì Migration Guide

### For Users

No migration needed. The new wizard interface is the default for component creation, but existing components are unaffected.

### For Developers

If you've customized component creation:

1. Review the new wizard API endpoints
2. Update custom integrations to use `/api/v1/wizard/components`
3. Test fuzzy search functionality with your data

## üîÆ What's Next

Planned for v0.5.0:

- Wizard support for batch component import
- Enhanced provider integration with real-time pricing
- Component templates for common parts
- Improved mobile UI for wizard

## üìû Support

- **Documentation**: [https://docs.partshub.io](https://docs.partshub.io)
- **Issues**: [GitHub Issues](https://github.com/madeinoz67/partshub/issues)
- **Discussions**: [GitHub Discussions](https://github.com/madeinoz67/partshub/discussions)

## üôè Acknowledgments

This release was made possible by:

- Improved testing infrastructure from v0.3.1
- Foundation laid in v0.3.0 for inline operations
- Community feedback on component creation workflow

---

## Complete Changelog

For a detailed list of all changes, see [CHANGELOG.md](../../CHANGELOG.md#040).
